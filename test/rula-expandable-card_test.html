<!doctype html>
<!--
@license
Copyright (c) 2018 Ryerson University Library & Archives. All rights reserved.

This code may only be used under the BSD style license found at https://ryersonlibrary.github.io/webcomponents/LICENSE.txt
-->
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

	<title>rula-expandable-card test</title>

	<script src="../bower_components/webcomponentsjs/webcomponents-loader.js"></script>
	<script src="../bower_components/web-component-tester/browser.js"></script>

	<link rel="import" href="../rula-expandable-card.html">

	<style>
		rula-expandable-card {
			width: 300px;
		}
	</style>
</head>

<body>
	<test-fixture id="basic">
		<template>
			<rula-expandable-card></rula-expandable-card>
		</template>
	</test-fixture>

	<test-fixture id="content">
		<template>
			<rula-expandable-card>
				<div slot="header">Custom Header</div>
				<div slot="content">Custom Content</div>
			</rula-expandable-card>
		</template>
	</test-fixture>

	<script>
		suite('Basic tests', () => {
			test('Creating empty element works', () => {
				const f = fixture('basic');
				let node = f.$.header.firstElementChild;
				expect(node.innerHTML.trim()).to.be.a('string');
				expect(node.innerHTML.trim()).to.equal(
					'A placeholder title... Override this using slots!'
				);
			});

			test('Creating element with slotted content works', () => {
				const f = fixture('content');
				let nodes = f.$.header.firstElementChild.assignedNodes();
				expect(nodes).to.have.lengthOf(1);
				let node = nodes[0];
				expect(node.innerHTML.trim()).to.be.a('string');
				expect(node.innerHTML.trim()).to.equal('Custom Header');

				node = f.$.modalHeader.firstElementChild;
				expect(node.innerHTML.trim()).to.be.a('string');
				expect(node.innerHTML.trim()).to.equal('Custom Header');
			});
		});
	</script>

</body>

</html>